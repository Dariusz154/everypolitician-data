<html>
<head>
    <meta charset="utf-8">
    <style>article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
  display: block; }

audio,
canvas,
video {
  display: inline-block; }

audio:not([controls]) {
  display: none;
  height: 0; }

[hidden],
template {
  display: none; }

html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%; }

body {
  margin: 0; }

a {
  background: transparent; }

a:focus {
  outline: thin dotted; }

a:active,
a:hover {
  outline: 0; }

h1 {
  font-size: 2em;
  margin: 0.67em 0; }

abbr[title] {
  border-bottom: 1px dotted; }

b,
strong {
  font-weight: bold; }

dfn {
  font-style: italic; }

hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0; }

mark {
  background: #ff0;
  color: #000; }

code,
kbd,
pre,
samp {
  font-family: monospace, serif;
  font-size: 1em; }

pre {
  white-space: pre-wrap; }

q {
  quotes: "\201C" "\201D" "\2018" "\2019"; }

small {
  font-size: 80%; }

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline; }

sup {
  top: -0.5em; }

sub {
  bottom: -0.25em; }

img {
  border: 0; }

svg:not(:root) {
  overflow: hidden; }

figure {
  margin: 0; }

fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em; }

legend {
  border: 0;
  padding: 0; }

button,
input,
select,
textarea {
  font-family: inherit;
  font-size: 100%;
  margin: 0; }

button,
input {
  line-height: normal; }

button,
select {
  text-transform: none; }

button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer; }

button[disabled],
html input[disabled] {
  cursor: default; }

input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box;
  padding: 0; }

input[type="search"] {
  -webkit-appearance: textfield;
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box;
  box-sizing: content-box; }

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none; }

button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0; }

textarea {
  overflow: auto;
  vertical-align: top; }

table {
  border-collapse: collapse;
  border-spacing: 0; }

.row:before, .row:after {
  content: " ";
  display: table; }
.row:after {
  clear: both; }

*,
*:before,
*:after {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box; }

body {
  color: #282C2E;
  background-color: #E9F1F5; }

.row {
  margin: 0 -1em; }

.column-1, .column-2, .column-3, .column-4, .column-5, .column-6, .column-7, .column-8, .column-9, .column-10, .column-11, .column-12 {
  float: left;
  padding: 0 1em; }

.column-1 {
  width: 8.3333333333%; }

.column-2 {
  width: 16.6666666667%; }

.column-3 {
  width: 25%; }

.column-4 {
  width: 33.3333333333%; }

.column-5 {
  width: 41.6666666667%; }

.column-6 {
  width: 50%; }

.column-7 {
  width: 58.3333333333%; }

.column-8 {
  width: 66.6666666667%; }

.column-9 {
  width: 75%; }

.column-10 {
  width: 83.3333333333%; }

.column-11 {
  width: 91.6666666667%; }

.column-12 {
  width: 100%; }

.csv {
  display: none;
  padding: 2em;
  background: #CFDDE3;
  border-bottom: 1px solid #B1C2C9;
  border: none;
  width: 100%;
  height: 15em;
  font-size: 0.8em;
  font-family: Consolas, monaco, monospace; }

.progress {
  padding: 2em 2em 0 2em; }

.progress-bar {
  background-color: #dbe8ef;
  box-shadow: inset 0 0 0 1px #cddfe8;
  height: 0.5em;
  border-radius: 0.5em;
  margin-top: 0.75em; }
  .progress-bar > * {
    background-color: #0BBD83;
    height: 0.5em;
    border-radius: 0.5em;
    min-width: 0.5em;
    width: 0; }

.export-csv,
.undo {
  border-radius: 0.3em;
  padding: 0.5em;
  background-color: #0BBD83;
  color: #fff;
  text-align: center;
  cursor: pointer; }
  .export-csv:hover,
  .undo:hover {
    background-color: #0aa572; }
  .export-csv.disabled,
  .undo.disabled {
    opacity: 0.8;
    cursor: not-allowed;
    background-color: #6cc5a8; }

.undo {
  background-color: #849196; }
  .undo:hover {
    background-color: #76858a; }
  .undo.disabled {
    background-color: #b1b7ba; }

h2 {
  color: #849196;
  text-shadow: 0 1px 0 #fff;
  font-size: 1em;
  text-align: center;
  font-weight: normal;
  margin: 0 0 1.5em 0; }

.person {
  padding: 2em;
  background-color: #fff; }
  .pairing__incoming .person {
    background-color: #f6f9fb;
    border: 1px solid #CFDDE3; }
  .person h1 {
    margin: 0 0 0.5em 0;
    font-size: 1.5em; }
  .person dl {
    margin: 0; }
  .person dt {
    float: left;
    width: 6em;
    overflow: hidden;
    clear: left;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: rgba(0, 0, 0, 0.5); }
  .person dd {
    margin-left: 7em;
    margin-bottom: 0.5em; }
  .person dd:last-child {
    margin-bottom: 0; }
  .person .match {
    background-color: #cf9; }
  .person .nomatch {
    background-color: #f99; }

.skip,
.show-later {
  padding: 2em;
  background-color: #fff; }

.person__meta {
  position: relative;
  padding-left: 3em;
  margin-bottom: 1.5em; }
  .person__meta:last-child {
    margin-bottom: 0; }
  .person__meta:before {
    font-size: 3em;
    line-height: 1em;
    display: block;
    position: absolute;
    top: 50%;
    left: 0;
    margin-top: -0.45em;
    color: #E9F1F5;
    text-shadow: 0 -1px 0 #CFDDE3;
    font-weight: bold; }
  .person__meta h1 {
    margin-bottom: 0.3em; }
  .person__meta .progress-bar {
    background-color: #E9F1F5;
    box-shadow: inset 0 1px 0 #CFDDE3;
    margin-top: 0; }

.person__match-strength {
  color: #0aa572;
  font-weight: bold;
  font-size: 0.5em;
  text-transform: uppercase;
  margin-left: 0.2em; }

.pairing {
  padding: 2em; }

.pairing__choices {
  counter-reset: choices; }
  .pairing__choices .person,
  .pairing__choices .skip,
  .pairing__choices .show-later {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    margin-bottom: 2em; }
    .pairing__choices .person .person__meta,
    .pairing__choices .skip .person__meta,
    .pairing__choices .show-later .person__meta {
      cursor: pointer; }
    .pairing__choices .person:hover,
    .pairing__choices .skip:hover,
    .pairing__choices .show-later:hover {
      position: relative;
      top: -1px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); }
  .pairing__choices .person .person__meta:before {
    counter-increment: choices;
    content: counter(choices); }
  .pairing__choices .skip .person__meta:before {
    content: "\2794";
    left: -0.2em; }
  .pairing__choices .show-later .person__meta:before {
    content: "\003F"; }

.person__already-matched {
  margin: -2em -2em 1em -2em;
  padding: 1em 2em;
  background-color: #fdf3f4;
  color: #D71520; }
  .person__already-matched:before {
    content: "";
    display: inline-block;
    width: 1em;
    height: 1em;
    background: transparent url("data:image/svg+xml;charset=utf8,%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg' width%3D'481' height%3D'424' viewBox%3D'57.351 134.506 480.579 424.053'%3E%3Cpath fill%3D'%23D71520' d%3D'M532 514L323 153c-14-25-37-25-51 0L63 514c-14 25-2 45 26 45h417c28 0 40-20 26-45zm-234-3c-19 0-34-16-34-35s15-34 34-34c20 0 35 15 35 34s-16 35-35 35zm42-225l-5 91c-1 19-17 34-36 34h-1c-19 0-35-15-36-34l-6-91c-1-19 13-34 32-34h19c19 0 34 15 33 34z'%2F%3E%3C%2Fsvg%3E") 50% 50% no-repeat;
    background-size: contain;
    margin-right: 0.5em;
    vertical-align: -0.1em; }

.messages {
  text-align: center; }
  .messages h1 {
    margin: 3em 0;
    color: #849196;
    text-shadow: 0 1px 0 #fff; }

.all-duplicates {
  display: table;
  text-align: left;
  width: 50%;
  margin: 0 auto; }

.duplicates {
  margin-bottom: 2em; }
  .duplicates dt {
    margin-left: 0;
    padding-left: 1em; }
  .duplicates dd {
    margin-bottom: 0.5em;
    margin-left: 0;
    padding-left: 2em; }
</style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.min.js"></script>
    <script>
      window.existingField = "name"
      window.incomingField = "name"
      window.toReconcile = [{"incoming":{"id":"Q6968477","name":"Natasha Michael","name__en":"Natasha Michael","name__de":"Natasha Michael","name__it":"Natasha Michael","name__fr":"Natasha Michael","wikipedia__en":"Natasha Mazzone","gender":"female","image":"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/2\/27\/Natasha_Mazzone_Michael_2013-09-22_22-24.jpg","birth_date":"1979-05-09","given_name":"Natasha","identifier__viaf":null,"identifier__sudoc":null,"identifier__lcauth":null,"identifier__nukat":null,"occupation":"politician","original_wikiname":"Natasha Mazzone","name__nl":"Natasha Michael","name__la":null,"wikipedia__la":null,"name__nb":"Natasha Michael","name__da":"Natasha Michael","name__nn":"Natasha Michael","name__sv":"Natasha Michael","name__eo":null,"name__ja":null,"wikipedia__eo":null,"name__sl":null,"name__pl":null,"name__rw":null,"name__af":null,"name__es":null,"name__hu":null,"name__zh":null,"wikipedia__af":null,"wikipedia__de":null,"wikipedia__es":null,"wikipedia__fr":null,"wikipedia__it":null,"wikipedia__ja":null,"wikipedia__pl":null,"wikipedia__rw":null,"wikipedia__sl":null,"wikipedia__sv":null,"identifier__gnd":null,"identifier__freebase":null,"identifier__isni":null,"name__hi":null,"name__ru":null,"name__zh_hant":null,"name__zh_cn":null,"name__tr":null,"wikipedia__hi":null,"wikipedia__tr":null,"death_date":null,"name__ar":null,"wikipedia__commons":null,"identifier__bnf":null,"identifier__nta":null,"family_name":null,"wikipedia__st":null,"twitter":null,"identifier__fast":null,"identifier__snac":null,"wikipedia__ar":null,"name__lb":null,"name__pt":null,"name__fi":null,"name__sw":null,"name__ga":null,"name__xh":null,"name__zu":null,"name__id":null,"name__de_ch":null,"name__en_ca":null,"name__en_gb":null,"name__pt_br":null,"wikipedia__fi":null,"wikipedia__ga":null,"wikipedia__id":null,"wikipedia__lb":null,"wikipedia__nl":null,"wikipedia__no":null,"wikipedia__pt":null,"wikipedia__ru":null,"wikipedia__simple":null,"wikipedia__sw":null,"wikipedia__xh":null,"wikipedia__zu":null,"identifier__imdb":null,"identifier__dbnl":null,"identifier__munzinger":null,"identifier__nndb":null,"identifier__bibsys":null,"identifier__ptbnp":null,"name__ko":null,"wikipedia__ko":null,"identifier__quora":null,"name__hr":null,"facebook":null,"name__ve":null,"name__ta":null,"name__gu":null,"wikipedia__da":null,"wikipedia__gu":null,"wikipedia__ta":null,"wikipedia__ve":null,"wikipedia__zh":null,"identifier__ne_se":null,"name__zh_hans":null,"name__zh_hk":null,"name__zh_sg":null,"name__zh_tw":null,"name__jv":null,"name__pam":null,"name__he":null,"name__ms":null,"name__ml":null,"name__tl":null,"name__et":null,"name__ca":null,"name__uk":null,"wikipedia__ca":null,"wikipedia__et":null,"wikipedia__he":null,"wikipedia__jv":null,"wikipedia__ml":null,"wikipedia__ms":null,"wikipedia__pam":null,"wikipedia__tl":null,"wikipedia__uk":null,"wikipedia__afwikiquote":null,"name__ss":null,"wikipedia__ss":null,"identifier__britannica":null,"wikipedia__plwikiquote":null,"name__oc":null,"name__az":null,"name__fa":null,"wikipedia__az":null,"wikipedia__fa":null,"identifier__selibr":null,"wikipedia__enwikiquote":null,"identifier__gtaa":null,"name__eu":null,"name__yo":null,"name__bn":null,"name__ts":null,"name__cs":null,"name__be_tarask":null,"name__sco":null,"name__hy":null,"name__ur":null,"wikipedia__bn":null,"wikipedia__eu":null,"wikipedia__ur":null,"wikipedia__yo":null,"identifier__ndl":null,"identifier__bne":null,"wikipedia__cs":null,"wikipedia__cswikiquote":null,"identifier__jewishenc":null,"identifier__nli":null,"name__cy":null,"identifier__cantic":null,"name__br":null,"name__el":null,"name__sr":null,"name__be":null,"name__ie":null,"name__lv":null,"name__vi":null,"name__sh":null,"name__scn":null,"name__ro":null,"name__th":null,"name__mr":null,"name__te":null,"name__ka":null,"name__nds":null,"name__kn":null,"name__gd":null,"name__mk":null,"name__ty":null,"name__pa":null,"name__yue":null,"name__io":null,"name__ast":null,"name__sk":null,"name__bg":null,"wikipedia__ast":null,"wikipedia__be":null,"wikipedia__bg":null,"wikipedia__br":null,"wikipedia__cy":null,"wikipedia__el":null,"wikipedia__eowikinews":null,"wikipedia__frwikinews":null,"wikipedia__gd":null,"wikipedia__hr":null,"wikipedia__hu":null,"wikipedia__ie":null,"wikipedia__io":null,"wikipedia__ka":null,"wikipedia__kn":null,"wikipedia__lv":null,"wikipedia__mk":null,"wikipedia__mr":null,"wikipedia__nds":null,"wikipedia__nn":null,"wikipedia__pa":null,"wikipedia__ro":null,"wikipedia__ruwikinews":null,"wikipedia__scn":null,"wikipedia__sco":null,"wikipedia__sh":null,"wikipedia__sk":null,"wikipedia__sr":null,"wikipedia__te":null,"wikipedia__th":null,"wikipedia__ty":null,"wikipedia__vi":null,"wikipedia__zh_yue":null,"identifier__nkc":null,"identifier__cspan":null,"identifier__britishmuseum":null,"identifier__nyt_topic":null},"existing":[[{"id":"Q20774316","name":"Michael Masutha","start_date":"2014-05-21","end_date":"","area":null,"area_id":null,"group":"African National Congress","group_id":"Q83162","term":"26","uuid":"428ccc08-34a1-4457-b044-a9a7d308c17c","fuzzit":"michael masutha"},0.6666666666666666,0.1333333333333333],[{"id":"Q47529740","name":"Michael Bagraim","start_date":"2014-05-21","end_date":"","area":"Western Cape","area_id":"Q127167","group":"Democratic Alliance","group_id":"Q761877","term":"26","uuid":"285d943f-272f-4d25-ac36-f81273593e42","honorific_prefix":"Mr","email":"bagm@iafrica.com","image":"https:\/\/www.pa.org.za\/media_root\/cache\/04\/6c\/046c246354a6f551ad025a6535393696.jpg","source":"https:\/\/www.pa.org.za\/person\/michael-bagraim\/","fuzzit":"michael bagraim"},0.5,0.1333333333333333],[{"id":"Q47529937","name":"Michael John Cardo","start_date":"2014-05-21","end_date":"","area":null,"area_id":null,"group":"Democratic Alliance","group_id":"Q761877","term":"26","uuid":"ee355979-9eab-4e7e-8f8f-5734f095f9ed","honorific_prefix":"Dr","email":"mikecardo@yahoo.com","image":"https:\/\/www.pa.org.za\/media_root\/cache\/87\/09\/8709be90b9e490212b9fcaca4a2e4997.jpg","source":"https:\/\/www.pa.org.za\/person\/michael-john-cardo\/","fuzzit":"michael john cardo"},0.48,0.11111111111111116]]},{"incoming":{"id":"Q437046","name":"Mandla Mandela","name__en":"Mandla Mandela","name__de":"Mandla Mandela","name__it":"Mandla Mandela","name__fr":"Mandla Mandela","wikipedia__en":"Mandla Mandela","gender":"male","image":null,"birth_date":"1974","given_name":null,"identifier__viaf":null,"identifier__sudoc":null,"identifier__lcauth":null,"identifier__nukat":null,"occupation":"politician","original_wikiname":"Mandla Mandela","name__nl":"Mandla Mandela","name__la":null,"wikipedia__la":null,"name__nb":"Mandla Mandela","name__da":"Mandla Mandela","name__nn":"Mandla Mandela","name__sv":"Mandla Mandela","name__eo":null,"name__ja":null,"wikipedia__eo":null,"name__sl":null,"name__pl":null,"name__rw":null,"name__af":null,"name__es":"Mandla Mandela","name__hu":"Mandla Mandela","name__zh":null,"wikipedia__af":null,"wikipedia__de":"Mandla Mandela","wikipedia__es":null,"wikipedia__fr":null,"wikipedia__it":null,"wikipedia__ja":null,"wikipedia__pl":null,"wikipedia__rw":null,"wikipedia__sl":null,"wikipedia__sv":"Mandla Mandela","identifier__gnd":null,"identifier__freebase":"\/m\/02qmvj2","identifier__isni":null,"name__hi":null,"name__ru":null,"name__zh_hant":null,"name__zh_cn":null,"name__tr":null,"wikipedia__hi":null,"wikipedia__tr":null,"death_date":null,"name__ar":null,"wikipedia__commons":null,"identifier__bnf":null,"identifier__nta":null,"family_name":null,"wikipedia__st":null,"twitter":null,"identifier__fast":null,"identifier__snac":null,"wikipedia__ar":null,"name__lb":null,"name__pt":null,"name__fi":null,"name__sw":null,"name__ga":null,"name__xh":null,"name__zu":null,"name__id":"Mandla Mandela","name__de_ch":null,"name__en_ca":null,"name__en_gb":null,"name__pt_br":null,"wikipedia__fi":null,"wikipedia__ga":null,"wikipedia__id":"Mandla Mandela","wikipedia__lb":null,"wikipedia__nl":null,"wikipedia__no":"Mandla Mandela","wikipedia__pt":null,"wikipedia__ru":null,"wikipedia__simple":null,"wikipedia__sw":null,"wikipedia__xh":null,"wikipedia__zu":null,"identifier__imdb":null,"identifier__dbnl":null,"identifier__munzinger":null,"identifier__nndb":null,"identifier__bibsys":null,"identifier__ptbnp":null,"name__ko":null,"wikipedia__ko":null,"identifier__quora":null,"name__hr":null,"facebook":null,"name__ve":null,"name__ta":null,"name__gu":null,"wikipedia__da":null,"wikipedia__gu":null,"wikipedia__ta":null,"wikipedia__ve":null,"wikipedia__zh":null,"identifier__ne_se":null,"name__zh_hans":null,"name__zh_hk":null,"name__zh_sg":null,"name__zh_tw":null,"name__jv":null,"name__pam":null,"name__he":null,"name__ms":null,"name__ml":null,"name__tl":null,"name__et":null,"name__ca":null,"name__uk":null,"wikipedia__ca":null,"wikipedia__et":null,"wikipedia__he":null,"wikipedia__jv":null,"wikipedia__ml":null,"wikipedia__ms":null,"wikipedia__pam":null,"wikipedia__tl":null,"wikipedia__uk":null,"wikipedia__afwikiquote":null,"name__ss":null,"wikipedia__ss":null,"identifier__britannica":null,"wikipedia__plwikiquote":null,"name__oc":null,"name__az":null,"name__fa":null,"wikipedia__az":null,"wikipedia__fa":null,"identifier__selibr":null,"wikipedia__enwikiquote":null,"identifier__gtaa":null,"name__eu":null,"name__yo":null,"name__bn":null,"name__ts":null,"name__cs":null,"name__be_tarask":null,"name__sco":null,"name__hy":null,"name__ur":null,"wikipedia__bn":null,"wikipedia__eu":null,"wikipedia__ur":null,"wikipedia__yo":null,"identifier__ndl":null,"identifier__bne":null,"wikipedia__cs":null,"wikipedia__cswikiquote":null,"identifier__jewishenc":null,"identifier__nli":null,"name__cy":null,"identifier__cantic":null,"name__br":null,"name__el":null,"name__sr":null,"name__be":null,"name__ie":null,"name__lv":null,"name__vi":null,"name__sh":null,"name__scn":null,"name__ro":null,"name__th":null,"name__mr":null,"name__te":null,"name__ka":null,"name__nds":null,"name__kn":null,"name__gd":null,"name__mk":null,"name__ty":null,"name__pa":null,"name__yue":null,"name__io":null,"name__ast":null,"name__sk":null,"name__bg":null,"wikipedia__ast":null,"wikipedia__be":null,"wikipedia__bg":null,"wikipedia__br":null,"wikipedia__cy":null,"wikipedia__el":null,"wikipedia__eowikinews":null,"wikipedia__frwikinews":null,"wikipedia__gd":null,"wikipedia__hr":null,"wikipedia__hu":null,"wikipedia__ie":null,"wikipedia__io":null,"wikipedia__ka":null,"wikipedia__kn":null,"wikipedia__lv":null,"wikipedia__mk":null,"wikipedia__mr":null,"wikipedia__nds":null,"wikipedia__nn":null,"wikipedia__pa":null,"wikipedia__ro":null,"wikipedia__ruwikinews":null,"wikipedia__scn":null,"wikipedia__sco":null,"wikipedia__sh":null,"wikipedia__sk":null,"wikipedia__sr":null,"wikipedia__te":null,"wikipedia__th":null,"wikipedia__ty":null,"wikipedia__vi":null,"wikipedia__zh_yue":null,"identifier__nkc":null,"identifier__cspan":null,"identifier__britishmuseum":null,"identifier__nyt_topic":null},"existing":[[{"id":"Q47529697","name":"Andrew Frans Madella","start_date":"2014-05-21","end_date":"","area":"Western Cape","area_id":"Q127167","group":"African National Congress","group_id":"Q83162","term":"26","uuid":"ef50e607-3ecc-48ac-a708-39cc022ba7e5","honorific_prefix":"Mr","email":"amadella@parliament.gov.za","image":"https:\/\/www.pa.org.za\/media_root\/cache\/85\/50\/85501686d873acdbe5380327d38e2506.jpg","source":"https:\/\/www.pa.org.za\/person\/andrew-frans-madella\/","fuzzit":"andrew frans madella"},0.5384615384615384,0.44999999999999996],[{"id":"Q239062","name":"Winnie Madikizela-Mandela","start_date":"2014-05-21","end_date":"","area":null,"area_id":null,"group":"African National Congress","group_id":"Q83162","term":"26","uuid":"f1d5837a-5552-4b82-88a7-8c1d015d4540","alternate_names":"Nomzamo Winfred Madikizela-Mandela","honorific_prefix":"Ms","email":"mamelodi@ancpco-gp.co.za","image":"https:\/\/www.pa.org.za\/media_root\/cache\/c1\/09\/c10926ecb1a93d6d6eeec04f8653fef9.jpg","source":"https:\/\/www.pa.org.za\/person\/nomzamo-winfred-madikizela-mandela\/","fuzzit":"winnie madikizela-mandela"},0.48484848484848486,0.43999999999999995],[{"id":"Q16765311","name":"Blade Nzimande","start_date":"2014-05-21","end_date":"","area":null,"area_id":null,"group":"African National Congress","group_id":"Q83162","term":"26","uuid":"06e85e65-f9d8-4112-ad95-8af1f25e10ba","fuzzit":"blade nzimande"},0.45454545454545453,0.2857142857142857]]},{"incoming":{"id":"Q936528","name":"Dov Yosef","name__en":"Dov Yosef","name__de":"Dov Yosef","name__it":null,"name__fr":"Dov Yosef","wikipedia__en":"Dov Yosef","gender":"male","image":"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/4\/43\/Dov_Yosef.jpg","birth_date":"1899-05-27","given_name":"Dov","identifier__viaf":"23024312","identifier__sudoc":null,"identifier__lcauth":"no99015046","identifier__nukat":null,"occupation":"politician","original_wikiname":"Bernard Joseph","name__nl":"Dov Yosef","name__la":null,"wikipedia__la":null,"name__nb":null,"name__da":null,"name__nn":null,"name__sv":null,"name__eo":null,"name__ja":null,"wikipedia__eo":null,"name__sl":null,"name__pl":"Dow Josef","name__rw":null,"name__af":null,"name__es":"Dov Yosef","name__hu":"Dov Yosef","name__zh":null,"wikipedia__af":null,"wikipedia__de":"Dov Yosef","wikipedia__es":"Dov Yosef","wikipedia__fr":null,"wikipedia__it":null,"wikipedia__ja":null,"wikipedia__pl":"Dow Josef","wikipedia__rw":null,"wikipedia__sl":null,"wikipedia__sv":null,"identifier__gnd":"122476468","identifier__freebase":"\/m\/02rcyyk","identifier__isni":"0000 0001 1045 3001","name__hi":null,"name__ru":"Йосеф, Дов","name__zh_hant":null,"name__zh_cn":null,"name__tr":null,"wikipedia__hi":null,"wikipedia__tr":null,"death_date":"1980-01-07","name__ar":"دوف يوسف","wikipedia__commons":null,"identifier__bnf":null,"identifier__nta":"115249729","family_name":null,"wikipedia__st":null,"twitter":null,"identifier__fast":"430135","identifier__snac":"w60g6f43","wikipedia__ar":"دوف يوسف","name__lb":null,"name__pt":null,"name__fi":null,"name__sw":null,"name__ga":null,"name__xh":null,"name__zu":null,"name__id":null,"name__de_ch":null,"name__en_ca":null,"name__en_gb":null,"name__pt_br":null,"wikipedia__fi":null,"wikipedia__ga":null,"wikipedia__id":null,"wikipedia__lb":null,"wikipedia__nl":null,"wikipedia__no":null,"wikipedia__pt":null,"wikipedia__ru":"Йосеф, Дов","wikipedia__simple":null,"wikipedia__sw":null,"wikipedia__xh":null,"wikipedia__zu":null,"identifier__imdb":null,"identifier__dbnl":null,"identifier__munzinger":null,"identifier__nndb":null,"identifier__bibsys":null,"identifier__ptbnp":null,"name__ko":null,"wikipedia__ko":null,"identifier__quora":null,"name__hr":null,"facebook":null,"name__ve":null,"name__ta":null,"name__gu":null,"wikipedia__da":null,"wikipedia__gu":null,"wikipedia__ta":null,"wikipedia__ve":null,"wikipedia__zh":null,"identifier__ne_se":null,"name__zh_hans":null,"name__zh_hk":null,"name__zh_sg":null,"name__zh_tw":null,"name__jv":null,"name__pam":null,"name__he":"דב יוסף","name__ms":null,"name__ml":null,"name__tl":null,"name__et":null,"name__ca":null,"name__uk":null,"wikipedia__ca":null,"wikipedia__et":null,"wikipedia__he":"דב יוסף","wikipedia__jv":null,"wikipedia__ml":null,"wikipedia__ms":null,"wikipedia__pam":null,"wikipedia__tl":null,"wikipedia__uk":null,"wikipedia__afwikiquote":null,"name__ss":null,"wikipedia__ss":null,"identifier__britannica":null,"wikipedia__plwikiquote":null,"name__oc":null,"name__az":null,"name__fa":null,"wikipedia__az":null,"wikipedia__fa":null,"identifier__selibr":null,"wikipedia__enwikiquote":null,"identifier__gtaa":null,"name__eu":null,"name__yo":null,"name__bn":null,"name__ts":null,"name__cs":"Dov Josef","name__be_tarask":null,"name__sco":null,"name__hy":null,"name__ur":null,"wikipedia__bn":null,"wikipedia__eu":null,"wikipedia__ur":null,"wikipedia__yo":null,"identifier__ndl":null,"identifier__bne":null,"wikipedia__cs":"Dov Josef","wikipedia__cswikiquote":"Dov Josef","identifier__jewishenc":"11822","identifier__nli":"000072300","name__cy":null,"identifier__cantic":null,"name__br":null,"name__el":null,"name__sr":null,"name__be":null,"name__ie":null,"name__lv":null,"name__vi":null,"name__sh":null,"name__scn":null,"name__ro":null,"name__th":null,"name__mr":null,"name__te":null,"name__ka":null,"name__nds":null,"name__kn":null,"name__gd":null,"name__mk":null,"name__ty":null,"name__pa":null,"name__yue":null,"name__io":null,"name__ast":null,"name__sk":null,"name__bg":null,"wikipedia__ast":null,"wikipedia__be":null,"wikipedia__bg":null,"wikipedia__br":null,"wikipedia__cy":null,"wikipedia__el":null,"wikipedia__eowikinews":null,"wikipedia__frwikinews":null,"wikipedia__gd":null,"wikipedia__hr":null,"wikipedia__hu":null,"wikipedia__ie":null,"wikipedia__io":null,"wikipedia__ka":null,"wikipedia__kn":null,"wikipedia__lv":null,"wikipedia__mk":null,"wikipedia__mr":null,"wikipedia__nds":null,"wikipedia__nn":null,"wikipedia__pa":null,"wikipedia__ro":null,"wikipedia__ruwikinews":null,"wikipedia__scn":null,"wikipedia__sco":null,"wikipedia__sh":null,"wikipedia__sk":null,"wikipedia__sr":null,"wikipedia__te":null,"wikipedia__th":null,"wikipedia__ty":null,"wikipedia__vi":null,"wikipedia__zh_yue":null,"identifier__nkc":null,"identifier__cspan":null,"identifier__britishmuseum":null,"identifier__nyt_topic":null},"existing":[[{"id":"Q47536864","name":"Thabo Moses Manyoni","start_date":"2016-09-04","end_date":"","area":null,"area_id":null,"group":"African National Congress","group_id":"Q83162","term":"26","uuid":"0f50d66b-a3df-41dd-a6d8-905fbd746fdb","fuzzit":"thabo moses manyoni"},0.3,0.21052631578947367],[{"id":"Q474285","name":"Amos Masondo","start_date":"2014-05-21","end_date":"","area":"Gauteng","area_id":"Q133083","group":"African National Congress","group_id":"Q83162","term":"26","uuid":"e505b897-d998-4f85-849a-7878b8db58b8","fuzzit":"amos masondo"},0.26666666666666666,0.25],[{"id":"Q47536916","name":"Masefele Rosalia Morutoa","start_date":"2014-05-21","end_date":"","area":"Gauteng","area_id":"Q133083","group":"African National Congress","group_id":"Q83162","term":"26","uuid":"4bf1eda0-c553-4e3d-bcd1-896c2bf6eb7f","honorific_prefix":"Ms","email":"mmorutoa@parliament.gov.za","image":"https:\/\/www.pa.org.za\/media_root\/cache\/54\/f9\/54f9a98e0a676c394725ee31cbdf39cd.jpg","source":"https:\/\/www.pa.org.za\/person\/masefele-rosalia-morutoa\/","fuzzit":"masefele rosalia morutoa"},0.24,0.125]]}];
      window.votes = [];
      window.autovotes = [];
      window.reconciled = [["Q47529707","019d1059-be01-44ea-b584-8458d63235c6"],["Q47529976","0220dfaf-3638-48b0-bf7b-a5ed810068ad"],["Q4752606","025aec2d-ba00-4aa7-8f66-fc0f23350ffe"],["Q47529736","02cb8864-9d3e-44b5-941b-b85333fefda5"],["Q47529974","045a85df-71ac-4df4-a5d0-31d487debf3f"],["Q47529659","04b18db7-af91-4d27-8f54-b5b31e8b2446"],["Q6390503","05718eb9-80fa-4958-a09c-cecb99c9ce4c"],["Q47530058","065807fc-8d0c-4812-b65c-7ee869f6d536"],["Q47529701","067c440c-6536-4db0-988b-ae016259c502"],["Q16765311","06e85e65-f9d8-4112-ad95-8af1f25e10ba"],["Q47529620","07e1f661-19f6-464d-9386-d2a132b37f17"],["Q47529921","09e605b2-911c-4720-897e-35cbd78a98fe"],["Q47890880","09ea0ca1-8d09-46c1-9628-9dae4de812c7"],["Q7145677","0a4f5456-5548-4981-8e1c-21fff8a05ded"],["Q19364571","0ab3d922-4dc7-44e6-b929-d82317f1c784"],["Q47529809","0bae3a19-06ea-4be7-a4a1-137388ea3eeb"],["Q7781196","0baea1a0-4e1c-4f20-ba28-96c0932706f0"],["Q47529632","0c6f4ca9-f77a-493a-b495-69c72ff54a34"],["Q3643383","0d54373d-e1b7-4b46-96fe-43c710e2e74d"],["Q47530002","0d6fdfae-44c1-4dda-966c-89d97d99f60d"],["Q47536780","0d948552-8cac-4083-8f78-4198bd9804fc"],["Q47529954","0f219b7b-7b9e-4168-86fd-1a264e3ca1f1"],["Q47536864","0f50d66b-a3df-41dd-a6d8-905fbd746fdb"],["Q47529849","0f940c2a-98dc-4405-ae40-6e3e6160efe6"],["Q47529856","0ff3ad8e-d9bd-4eae-adb7-689800338e25"],["Q47529891","10417079-51e9-4f81-beab-4fce181a926d"],["Q26206862","115cccb7-3b24-4592-95c5-c7c5e98fe182"],["Q16744844","12297831-5d6e-4621-a051-5604a9231ec9"],["Q47530052","12b37be1-2d84-451b-82dd-0e29abc11385"],["Q47529948","1322c976-1239-4af1-b362-cc60bd0dfc38"],["Q47529662","139576e6-8fff-465b-8936-f1948deed9cb"],["Q47529769","13a7050c-a1f6-4f8a-bb11-046ef80eea77"],["Q47529626","13c94be5-3dd5-45c3-bf5f-18fac393b655"],["Q47891871","13f1a350-3214-4c53-8e7d-f354a4f19d1d"],["Q47890991","14bc3eca-da28-4a6f-90ee-03857632f800"],["Q47529903","15133367-aba1-4fc8-a62b-e05ecac9afc5"],["Q47529973","1533cebd-f42c-42b6-9fe7-3bda0b201293"],["Q17708781","1537d4f1-14c0-43eb-adc1-aabb8c7946bc"],["Q47890496","157c8f26-e11e-4b0f-8e7e-426a22afabd7"],["Q16746826","161d4dff-6a3a-4740-9db8-71b417717384"],["Q28848631","1625fcd2-22a3-4185-b349-0b0a557b6053"],["Q24233839","16604189-a35a-4d97-9d42-2759121fbd35"],["Q1109753","17e49c6d-2e03-47f6-b61f-0ba81e3c0956"],["Q5081288","180f6b0e-865a-430e-a117-0a8deb0d241a"],["Q47536782","191d5b66-a26a-4ed9-9aa5-4c356af1df8b"],["Q47890655","19432898-59b3-4488-99bd-9e3be3ddea89"],["Q5535621","19b050d4-7036-4f8d-821f-772f0b9c99fa"],["Q57282","19f42ebc-4a12-4032-a5b9-05bad8e67c85"],["Q47529867","1a7e469b-924d-4c74-afaf-13326c523310"],["Q16746657","1abfb477-b98b-4c82-a32f-da8fed088832"],["Q47529646","1b7ca8bb-03fe-424a-b121-13ef6076c145"],["Q47529919","1bbec15c-774e-418f-84a2-1e0e9a5086cd"],["Q6258967","1c3aa0b5-2a93-4887-ad16-b500d4127f77"],["Q47529873","1c50a5c4-e163-485c-96ed-a8279356d78e"],["Q47529936","1cd41e5f-9a59-4265-acb8-01af50938396"],["Q47890694","1e2b443b-12ad-4432-b250-66e238030463"],["Q18217607","1ec921cc-af10-4855-aed3-66cfa4e0ae35"],["Q47529876","1f894a0c-e473-426a-91e5-bccd4e76046f"],["Q5280133","208bac95-a44c-448f-a2cd-563a8661718f"],["Q17075932","20e4d436-335a-4475-b66b-854d010929e8"],["Q47529813","210f099f-c8cc-4c4f-9bc4-0a251917fe2a"],["Q47529745","21ad2313-5d8d-4f7d-ab53-0c1812e9e8f5"],["Q47529718","2328bc58-19ab-4f6d-ad45-b629fc6f1a02"],["Q47529655","23903769-09b8-426b-ac51-2d2de8885703"],["Q43377376","23957089-c597-44f1-86ed-78448844f57f"],["Q16746664","25212dab-ac32-4c34-95d7-64d6f3212603"],["Q16746833","25ce8581-e0c0-49cb-a018-a5273cdb8a3f"],["Q47530061","2672762d-1cb8-4833-82e2-0b16202f1408"],["Q47530028","27f6d9ed-9ebe-46f1-8303-440bd2b27757"],["Q47529740","285d943f-272f-4d25-ac36-f81273593e42"],["Q16746652","28f5b4a2-852d-4724-9843-c34032061f5a"],["Q47529943","29051057-e3af-4c37-b136-0b0a1bfa7b42"],["Q47530046","2a5c3062-5f83-4781-bd74-5021770cbbca"],["Q47890857","2a8fcde8-4b49-48c3-8441-642a044128a0"],["Q47529681","2ac1215a-3d46-48d5-90c6-fb8035e679b5"],["Q47530068","2b7936fa-e233-414b-98a0-ad5a777cda88"],["Q8066134","2ba0adac-2470-43e3-8403-b142af0db05f"],["Q47536490","2bf2f458-d009-4564-9338-8f22a890f541"],["Q47530161","2c16d1d7-f948-4e63-8a3d-cfe6094557b1"],["Q47890613","2c2123fa-1c5a-4dea-833a-5af218f8342b"],["Q7461662","2c34b310-1387-4852-bf41-dc573573bcb1"],["Q6885827","2daf0f73-bbd8-4c83-ae96-9b514d1e683e"],["Q47529723","2dcbfb1f-a3d0-4119-8b89-283770fbfe71"],["Q47529819","2e3edd4f-9fde-4a2b-ae2e-4290d4325837"],["Q47529883","2eee58c6-652b-48cb-abb8-5768581eb88b"],["Q47530059","2fbce269-f7a9-4ada-9eb0-77f264e9ce02"],["Q47529658","2fda2fce-6cc6-4f76-8798-21ea7a46593a"],["Q47890797","304975a5-02ac-4cae-88b7-f1c433d771d6"],["Q20981694","30633757-7a11-45ca-b1ea-c24a5ddb4863"],["Q16744371","31063316-38f2-4f36-aabd-f4dc166f187c"],["Q16744856","316affea-e16d-4f8c-abd2-53c50fa4c222"],["Q47529899","3234c718-e716-4974-8526-b2539b8b0067"],["Q982259","3239f852-8179-43ce-a17a-1ab7d923bd55"],["Q28861539","323b5863-671d-410d-8847-0cbdb186a6e9"],["Q47529825","327b8363-1df1-454a-bb6f-2ceadfa0f97a"],["Q47529784","32af561c-aca2-4707-9844-b719849c16c1"],["Q47530043","32e23823-d88f-4501-b9df-f30c5c10a52b"],["Q6764850","338db6bd-f90c-44c3-81c7-5c769c3d2ad8"],["Q7447062","3428ec6e-b26f-43f0-ae5f-985e0a064681"],["Q47530047","34c62b4f-0c1c-4a63-9a9b-5fa4a640dff8"],["Q47529699","35af082b-b29f-42e0-a411-0b497f8268fd"],["Q47530071","361f74a1-4f7e-485f-b3e9-f2e52aef95a3"],["Q47529915","36331feb-00b9-40cc-bf79-822dbb6086b3"],["Q510746","3666be39-5d75-4531-8990-bfef86eb4353"],["Q1390963","368e479e-84c1-4ad1-902c-70cc318d57e6"],["Q28086077","370c0ba6-3fd1-4a3c-a9c5-13e3eb7ad7aa"],["Q16935120","371f2d86-ed84-459d-9fe6-fd950c657854"],["Q47529905","375023a5-125e-4ce3-a0ae-27ed93ea238b"],["Q6142922","3787e457-f7b6-48eb-b688-7b910f6dc361"],["Q47530060","388993a4-44c3-44d2-8333-630f2440eae1"],["Q5049285","393823b6-499c-4ee5-b9d6-696c6ec13d39"],["Q47536793","39c2e312-a983-4499-9463-75b1644ae2ab"],["Q47536937","39f32c16-f341-4831-88e3-b670a6c8ab3a"],["Q47529942","3a0dec24-34f1-486e-bdce-46fe6bce8936"],["Q18206724","3b7816d7-f594-4504-882c-d7582e4abdca"],["Q47536884","3b9bcbcd-53ce-43dd-99a0-1949bc92fe9d"],["Q47890713","3e2c404a-e2c8-4654-bfa1-79daf515b572"],["Q47529690","3e696a12-7dd6-4b3d-9fbf-869ac3744c38"],["Q47529967","3e8cb3b3-1159-435b-8268-0788a8206a07"],["Q47529824","3e9027e9-1e7a-4fcf-91db-3b53dc6da02a"],["Q47529906","3f15602c-36c8-457c-a981-8cc05a5712e1"],["Q16728017","3fec9f44-d70a-41ca-97c8-1a759c6dda7e"],["Q17388948","41233298-3839-4bb1-8874-a3fe6fa6161c"],["Q20774316","428ccc08-34a1-4457-b044-a9a7d308c17c"],["Q47529836","42974813-a227-4128-8268-ed75b69ec868"],["Q41705189","42bba9ee-f8c5-4bfe-96ef-0ec983c6f27f"],["Q47529770","42fe3e9b-5792-40e5-9440-9c1439976081"],["Q47529914","44b3ba80-41ee-41c4-b4be-1137df33217d"],["Q47890739","44b74b82-cf40-474e-b525-36e4b83c38fd"],["Q7708835","4569d22c-a876-445e-a36d-540e1695c8fb"],["Q47536522","45d74a4e-ceb7-45b2-9339-5126e635080d"],["Q16744389","46cdb710-2a76-4dc8-8421-c417fc1ac3cf"],["Q47529633","47121545-5266-438c-9a81-3a4151c60ef5"],["Q47529964","486312af-cc85-4cff-afbc-950235638cc4"],["Q47890678","48c5c62c-232a-4812-9a61-bb75615f38bf"],["Q47529984","49258029-e675-4fca-8e7d-0d26c400aeb1"],["Q47536906","4a1db980-d394-4f50-b06b-9c54dc64fadc"],["Q47536786","4b843766-a5bc-46b2-be61-3fa943fd6af8"],["Q47529853","4bb6e842-8fba-4b85-a2c2-534c851c4c43"],["Q47536916","4bf1eda0-c553-4e3d-bcd1-896c2bf6eb7f"],["Q47529955","4c1837ff-fe6f-4429-8928-de31a0932a6c"],["Q47530053","4cacb004-7863-47f0-9804-a06369962d62"],["Q47529614","4d238113-c012-49d4-bdc3-d0541f5b9eb3"],["Q47529616","4e0e7775-b13d-4c17-a863-465d9ca1658a"],["Q47529927","4ea301f3-1e5d-42b1-9a64-b94fccc29355"],["Q47890776","4ef0ae0e-fe9a-469b-8e15-efb94b78ab87"],["Q47529776","4f391888-4f98-43da-a79e-5b01a9d724cf"],["Q47529704","4f5d1a8e-41a2-4694-999a-4b8e1afd2949"],["Q5331984","4f632a65-31f3-4a2e-ae94-b05e922b8458"],["Q6216362","4f7a1db9-49b9-45e7-90e4-9b795f3d3e68"],["Q1686353","502114d7-c984-44aa-bd20-d86476c199d0"],["Q47529764","507080b0-9664-460a-9c07-1e6b99b260cf"],["Q3361545","50747a5b-f38c-4d26-96d7-bcb43a2fdb66"],["Q47529755","513dcc7e-2aeb-46dc-a6c1-733b0253503d"],["Q47529879","51459683-fa4f-492d-9075-e592b04a52b4"],["Q5388710","5192750c-de39-45ad-bf49-1a51639bf696"],["Q4868980","51f49bde-0565-475d-bb78-c4dad7d6fd48"],["Q58160","520e4c92-1374-4677-99d7-310e4f1de025"],["Q561279","5263f787-5fe3-4637-90f1-42d1342faa31"],["Q24234082","5341ff8c-20e9-44aa-aeee-e0a011c2c84a"],["Q47529828","53ba8a6a-58eb-4df5-97be-6d24e6423368"],["Q47529722","548b65d2-3f2a-4064-94bc-153606eedaf4"],["Q770995","54b70ff9-420b-449e-9d0f-b9071f318109"],["Q4768956","54dc444b-0d63-4bf0-a8f2-f1a097a3cadc"],["Q1887900","5507f21b-3b9b-4517-bd46-117484805b81"],["Q47529623","55a9d143-48ca-4696-85be-1e09695ae61e"],["Q47529796","57f3254a-fa28-473a-a7de-0310c5665453"],["Q47530040","58c96a9e-b31e-4dfc-97f1-8254f5ae384e"],["Q47529924","58dbced2-7174-4c7b-9f54-14f9aa32fbd3"],["Q47529818","594076bb-396b-4973-bd66-c5b4b657fd6c"],["Q47530023","59c7f970-f31d-413f-a488-93d7e82ed094"],["Q47529630","59f3fa78-78fc-4ca1-9a05-99b61b54de14"],["Q47890972","5aa5a438-8933-40ea-8fca-d39bbda92d15"],["Q5257754","5b1a4d88-2678-4158-b5f7-18e49dbe2c66"],["Q38864258","5b5e79c5-67e1-4e1b-8c13-e1d179cd649f"],["Q47890751","5c5bb3a8-4221-453e-b160-e235b9cca4f2"],["Q47890933","5c6a564e-7e54-4ebf-a7f1-cb5053f0b75b"],["Q47529634","5c78d0fd-49ba-47d0-9620-f9511d368516"],["Q47529870","5d01279d-1207-4725-8761-817e0662f3db"],["Q47529621","5dd3cb25-7a7e-4b77-afae-77d9018e76e5"],["Q47890848","5e0b1fcc-a28f-4e98-9d0f-b0543983ed86"],["Q47529812","5e7d62dd-6cbb-47c5-ba4e-351e738e6a00"],["Q47530008","5e9b9bed-b5b2-497e-ad37-8b05602b1829"],["Q47529996","5ec376f9-fe51-4ba9-9253-8482087ef543"],["Q47529629","5ec43d51-a4e9-4dcd-afcf-581a905aae0a"],["Q47529675","5f38f1c3-cb39-46e3-b62a-8561bdd5f0c8"],["Q16192838","5f842b3c-d55b-40f7-9cdb-eacec10293e1"],["Q47529768","5f979d62-c3ab-449f-8673-9a7be903007c"],["Q47529807","600d2fda-7cd2-4b71-9c67-e58536f38ed7"],["Q47529712","603b7ac0-d9f3-4c2e-bc5b-6900837401bf"],["Q47890647","603f0ce8-f772-43fc-84a5-741ae3c56927"],["Q47529680","60aa012f-d558-442c-be54-0a11ac6cda5b"],["Q47890812","621350a8-89c6-4a71-8943-efad7db1d826"],["Q7615479","624014a2-6795-40be-83da-ea90c776f4ec"],["Q47529687","63627a2a-d612-4388-bb70-852653aea677"],["Q47529933","65129317-981a-4eb8-a6b0-56328214a09f"],["Q6738820","6551936f-47b6-4893-aaf2-4d797f75359c"],["Q1450938","6617e47b-dc82-46d3-a74a-87bd876b1f3d"],["Q47529665","66542893-9b6b-4892-a56b-056ab2756338"],["Q47529625","671e8c42-ec57-4ef2-a011-c1f667ea33ba"],["Q47529787","67462be3-fb70-4e21-8cbe-0f79c2e5de4c"],["Q6117269","67521c69-2ac3-4bcd-8b96-c809d18ae80d"],["Q47529741","67eed950-e154-4afa-a9b1-5dfe27bd6dee"],["Q47529643","684495e7-871e-48e1-bd66-0361a1207527"],["Q6138223","69004140-1824-4979-b8cb-0d71ab76190e"],["Q47529650","6a5ec235-9574-4295-a85a-4fa892c44591"],["Q47529671","6bd975d6-99d5-4d48-b06b-eb953631c106"],["Q1412305","6cdc5307-0ea2-4382-88c1-78f2509c20dc"],["Q16744439","6ddca914-f7b1-480d-b02a-f0327fd5c714"],["Q44147245","6e38db8b-db8b-4048-a7c8-8e4fc49f44ea"],["Q47890588","6f60bc02-e9af-4ced-a9bb-6cc5eafb4789"],["Q47529720","6f9d95a6-6bf1-403e-bdee-6a2466ea3469"],["Q8015883","70fe6511-fcc9-47f5-9793-c870732c39af"],["Q47529892","716b5963-9b98-4fda-9bdc-7d53f8df4984"],["Q20982109","73423a03-a931-408f-8c20-3f9ad0646ab4"],["Q47530006","7364d35f-58dd-4cb4-b98c-2243fcfe2aac"],["Q47890961","742dc23e-9b3b-4cd3-bf59-8d6ab6094045"],["Q730472","7478c075-6f52-4d87-95cd-76559d4625f7"],["Q47890500","74eec718-ed3c-4ea8-a997-e7be5d4c6fa9"],["Q47529800","756a7737-959f-4af7-9a19-007ef9fc1f2b"],["Q47536946","76288f1a-6284-4e67-b9a4-25a7233ce4bc"],["Q47529714","76cf5ef7-622a-4eb8-acdf-fa367d6511ff"],["Q47529925","78010279-4569-4cde-824c-bcb88bf800c6"],["Q7648369","780dfff3-b1e8-4c63-a858-3089457ede0d"],["Q47878458","78144089-f7b4-40b9-9f2b-066d8228da1a"],["Q47529928","7859c43e-cfc3-4a5d-bc8d-465b0678625f"],["Q5279277","78620417-e341-43f9-9259-e8c540718530"],["Q5237258","79451ced-5ce1-4b34-80c5-0a647bcd9b2b"],["Q4763221","7983adb2-05bb-4be6-a513-48b1b1d62414"],["Q47890639","798eed18-48f9-471f-afd5-34cd076aa978"],["Q47529645","79ced5ce-5577-444a-8dee-c305cf8c427d"],["Q28011915","79fe45af-2599-4187-bf6e-e711d4acecdd"],["Q47529673","7a254b2f-e974-43bf-b1c4-92794b090a46"],["Q47529803","7b5644bf-07d2-47d4-8ca0-8e6b9f682d94"],["Q6702772","7b6bc757-8abe-4b31-8595-2140d1c57f67"],["Q16765120","7c0133aa-26d8-4368-a3bc-1b24a6c1f23b"],["Q47890596","7cfa3070-b807-457b-b245-61d02ff9040f"],["Q47529752","7d00dcdc-94d7-4b55-ae50-6e74d931e417"],["Q5057098","7df75a01-cf9e-4877-8442-296112804627"],["Q1148669","7f697ed0-314f-4e28-8ad6-b163e46b5619"],["Q6795248","7f9a782a-38e5-4100-8ab5-66fa02d591a8"],["Q592604","7fe2bb22-1657-4dac-8eff-6fbcec6b17b0"],["Q47529989","7ff2877c-0b67-4a05-8a01-8a9211925bf3"],["Q47529920","80c4f877-5dd1-4fef-bdab-231c4b7f9512"],["Q16744440","814bb901-ed5b-4aec-8073-083907f02c81"],["Q47530055","814bd797-e29c-46d7-bafb-d2b5336afc84"],["Q16746685","81aad1dc-b7cc-41b0-95e3-7db3efceaf93"],["Q47890706","81f5a1ef-944e-4861-aa10-c42c9c3997f8"],["Q28839897","821054f0-ff75-4104-b57e-6b61afde2370"],["Q16744425","82139443-b970-42ca-82e7-85b84f22915b"],["Q7417329","835085d9-be38-408e-a13c-de1936e85ee5"],["Q47529844","837a8fd6-3b32-4b51-b2c0-862b8c8d746e"],["Q3269581","85275af1-10d3-4b08-9111-6ec563df6f9c"],["Q47529778","8601214b-a2a9-4331-9859-c184fee18363"],["Q47529860","860e896a-693e-460e-8188-3f219903ee4e"],["Q47529605","86346e40-882d-40d1-9408-0327a3594221"],["Q47529765","868cabc3-ceba-4b77-b612-4bf531d526e3"],["Q47529799","87f1360a-d65d-4979-9dc6-62bc1fd45bb2"],["Q1966829","887a2b37-b179-449f-a4ef-88da4c7589a9"],["Q47529916","892c9410-c4b3-4ad8-a96f-22a5dc3da089"],["Q47536813","895fbf68-42f4-494b-8d91-b9c6c8122ce6"],["Q7061817","89987d88-c244-4a92-9e00-4818584fdc01"],["Q47529653","8be0f437-0f2b-4918-9c90-73e21e92e96c"],["Q11816850","8d1f884a-721d-4183-8b43-fd2a1601aa3d"],["Q47529830","8d3becec-c6cf-4d10-958a-bfa619f7ac97"],["Q47529804","8da7f2d1-9b3d-4867-a80c-610d98405332"],["Q39071075","8dea21c1-873d-4e72-b024-2ee39de902b9"],["Q47529868","8eb04619-17dc-45a6-ba22-e5565e4d1849"],["Q16193273","8eca1210-66aa-4eb5-857c-244a89e547fd"],["Q47529896","8f25cdad-f369-43e0-a068-0d6d2dbbb48e"],["Q7786663","902133f8-7466-40e0-98c9-47dbc881a19d"],["Q47529790","929cc289-b320-467b-b912-47b9f3c1aac8"],["Q16744297","92fbbd78-902a-44b9-80f4-c21f3e529d47"],["Q47529760","93642aa8-ff70-4e28-b105-9c57cb954bbb"],["Q47529847","93a1f0c0-3492-45ee-a3ff-d57a68524d71"],["Q6752973","9492ecef-e5cd-4f4c-985c-045bd4c8b8ea"],["Q47530027","9567ca74-36b8-4d5c-a480-7dca896bf6db"],["Q47890986","957d566b-feee-4b74-b9a1-aa8ea095aa57"],["Q47536797","95cec38e-1746-4e0b-b47d-55304c2ed4ea"],["Q47529744","966b7bfc-a48f-4f21-83a5-95d4b22c750d"],["Q47529663","96cbdb2e-2268-4b27-a7df-52a1795443b8"],["Q47529703","976920dd-64ca-4979-a308-8feda7c2d8f8"],["Q47529669","97a36231-f258-4900-87f6-9f8bb48b03f4"],["Q47529931","97db0b3d-b72c-4317-aff0-5b7351bf253b"],["Q47529618","981c92d2-7242-43be-aa9b-7ac66a1d63d8"],["Q47529684","9894dd5c-f87a-4750-8f96-6f3b6b870236"],["Q47529725","99795f75-d2fe-4353-a177-a4b8c8cfc01d"],["Q47529841","99940f10-5c96-45df-a970-fda4ed894dee"],["Q47530024","99c729a3-3ff8-4baa-925c-e3ad9650d395"],["Q47890520","9c0fd945-0250-4dc5-a5bd-61eaf539e9e6"],["Q47529988","9c6dd4c6-1a4d-4007-8dbe-5f655566518f"],["Q4358028","9c96dc41-19d0-42a4-ab74-3878a91167d0"],["Q47529709","9eebd684-f983-4a9c-8d86-a7e1b33eec64"],["Q17037520","a002feb6-7580-4fa3-90fb-71d33f606de8"],["Q29958484","a04258ad-620d-47f3-a9d5-22042497656d"],["Q47529815","a05c6d65-2daf-4dd5-bbdd-85b12cdb8fde"],["Q47890940","a11e5aa7-0827-4bb4-ac8e-c354346d34fd"],["Q47529710","a18f5a7b-6276-42ec-ac40-61c8b1c08bfe"],["Q47536774","a1c5ef13-c2a7-4cf2-b0bc-b301974faffa"],["Q47529757","a1d9e2da-f187-4103-b050-394c2dd9613f"],["Q47529820","a5039350-988d-4a55-a5b2-a9badc9edbbf"],["Q47530031","a52ad276-9679-42a3-b1b7-0e89fa14c098"],["Q4769095","a68fbeab-5b95-413a-9c3c-a689466a7f81"],["Q47529877","a69edcf3-4fc8-4d32-9239-fb02be286203"],["Q47529894","a71f2e23-95cb-4492-bb25-2edb714fa78e"],["Q33870385","a784ee2a-3e57-4e78-aa81-9d8593a3474b"],["Q554131","a7c7ba60-7482-4294-82d2-854953fdf522"],["Q47529660","a81b5829-77c1-4451-aed1-b4cc1cf7fda0"],["Q47530048","a844daf1-17f9-4346-88b6-8c3e3881bf88"],["Q17385681","a8475c0b-fb5f-476c-93e5-03f223b7e602"],["Q47529908","a967f35d-36d4-407f-9a02-4143248a3fda"],["Q2290959","aae622f5-f8d7-44b0-ab4e-35460c5a3ca4"],["Q983163","aaf41f1e-d6ef-4758-8518-aaef7445e78e"],["Q150276","abc38b03-500b-44a3-9124-94cc0f0cbba9"],["Q47530039","ac2974b0-7db8-4225-b9d4-995d918f073f"],["Q47890891","ac3f2d0c-1966-4041-9c6e-b7bd761d51e4"],["Q3241428","ace2c831-0807-4e23-bc0b-ee8af2227bc5"],["Q47529978","acf1e9bd-a523-4805-85da-8092edeaea94"],["Q47529651","afcd90cd-44c5-4f26-8d06-d6c4f2561dcc"],["Q4956754","b02ce373-f841-4d46-b1df-e90ab6a693b8"],["Q47529939","b0eef3f0-a145-4067-b3c5-be4d7eafcd50"],["Q47529750","b1481ce7-ebac-4bff-be36-14afb6ec3804"],["Q47529686","b1c79e8f-280c-47fa-9bbd-a3295398b778"],["Q47529985","b250c35f-5c26-47ed-98ce-ec6e38f180aa"],["Q47890786","b25e9445-f3e9-41a9-91b0-2961f6bafc73"],["Q47529640","b35205a3-edda-4c2e-9fb5-25770307b519"],["Q47529638","b3635ceb-6884-40ab-bc01-c0f4f5cb9d3d"],["Q47529945","b3f0042b-c35a-4e28-a015-812619433e8a"],["Q47529902","b4b6d069-2e40-457d-8126-0697431c9602"],["Q47529952","b4ca096a-b48d-49d8-b768-4ac61e12c46b"],["Q47529850","b54c5635-cd29-46d0-8168-40c371f49b4a"],["Q21932116","b6458b54-0aa2-4ddf-aaaa-16154c104d34"],["Q47530056","b8e301a8-c064-4167-a97b-12273718db36"],["Q47529676","b8ee8dd4-cab3-42b3-84dd-4147680d01a9"],["Q804894","bad9918b-6659-4a2b-ba1d-433f35410fa"],["Q16747385","bb7ca7b6-7f72-4e80-9bd2-e181e85abb44"],["Q16744325","bbc70ab5-c705-409e-9184-88bd5421c1cd"],["Q47536776","bcadd0fe-36ce-4a77-beb0-5d9a0439134d"],["Q7635249","be43047d-fbd2-4b69-8b5a-1ad91e3db4db"],["Q47529637","bfcd97cd-4aff-44c6-bf36-6aeaebab519d"],["Q47529950","bff9c1ae-dab0-4852-9ad5-f217d49ffb2d"],["Q47529777","c02a0c5e-6f7b-4cf4-8f46-658a3629d4e2"],["Q47529958","c0a269a4-a45e-4325-9d53-b76d9c5bb646"],["Q47890555","c0c32783-4e44-4e19-a7e5-dfac1d8c5edb"],["Q47529758","c0fe0e0d-0b94-4344-933b-fabcc54448dd"],["Q47529652","c1d67a06-3339-4680-a624-aa7f7bfc1330"],["Q47890733","c1e450b1-1e8a-44df-be2d-7f7e9a65cbaf"],["Q7192856","c209f666-dea5-4c82-af7a-79bf78181003"],["Q47530021","c3362bc1-e889-442b-a178-a97ff749edef"],["Q47536792","c40d0cc0-b2dc-4c3e-aee8-c4d17911c9bf"],["Q16765128","c4b67ac9-c1b9-4e4a-866b-d431af6b9418"],["Q47536761","c4e3374e-12ba-477b-b654-abd17a9b343c"],["Q16186490","c5a72914-c6ec-41c3-a614-057fa9dc8e73"],["Q47890603","c700ee76-1fd1-4b56-9108-c8c78cd4cbc7"],["Q47529766","c7352de6-ddcb-40f3-aa0d-632625eca81a"],["Q47530007","c7512d29-e4c2-42ea-b2f0-b71d534a0361"],["Q47529885","c8095818-b01d-49b6-941f-e8dc3d540bbf"],["Q47529865","c83e7382-1d2c-4deb-8ae0-95ced74d98ee"],["Q47529969","c84b8937-598e-416c-a55a-e153bf4467ac"],["Q1632021","c87f7993-f78c-4739-bcca-b709a6966fba"],["Q47529859","c92578b8-ea0d-45fe-be65-b88a39f121b0"],["Q47529696","c9d4d532-b7f7-46ad-b33b-83c8bba31b5a"],["Q47529895","ca86cb9a-4923-48df-a402-bf0d5e145c29"],["Q47529881","caa1562a-aa7d-4e4c-82c2-7aa9fd820285"],["Q47529731","caf34b70-cecf-4785-9879-5580a241acc1"],["Q47529808","cc7338e0-fcee-4803-88a5-9036ed987790"],["Q47530029","ccaca382-3fce-4795-9fd5-49b175ec8c1b"],["Q47890561","cd47fc79-4846-485b-8513-294387149e54"],["Q47529910","cdd0b3fa-a4dd-4dfa-a211-ea641d3c53f3"],["Q16744270","ce28e002-004b-4536-a7dd-be76bc95ab18"],["Q16744469","ce3612f5-90cd-4c92-9401-0e775e9b9a8a"],["Q47536775","cea106d5-629c-449d-ac30-f4f392b26b7c"],["Q47529862","ceb0934c-b5af-472a-840d-fd8a95dae270"],["Q47890869","cf29c178-ee01-4203-b4b6-84a827e5b941"],["Q47529636","cfc384a2-010f-4a25-a248-23d3a886b30a"],["Q47530067","d01dd67a-3c25-4541-a25f-fcff5404d2ab"],["Q16744520","d08eddbf-22e4-43af-943c-79ada198c188"],["Q47529798","d118f9ee-8a0d-426c-81b9-8bf6ae1e2f9d"],["Q47529833","d190770d-2a7b-48ed-82cf-59c55b3b99aa"],["Q47529835","d246a564-6fcf-4005-a830-8b10564f89bd"],["Q47536847","d256eb70-0856-472e-b276-0a8968631556"],["Q21694330","d287921d-eac4-4d95-a9ae-ab657e9bc94e"],["Q47529647","d28c43b0-1c1d-49ee-baa2-a21d4e8b085c"],["Q47529947","d2976e18-668f-42df-bedd-2f9fe4ef8267"],["Q47529923","d399f237-b7ca-4195-a124-7d612f0ff990"],["Q16727851","d42ec9eb-9d8a-44f8-93d1-469267bbaa40"],["Q16744410","d52b06b3-7a97-4fa5-a8e6-5a29d1714f40"],["Q47536789","d589f87f-99b9-476e-aa57-43c169908b53"],["Q17466747","d5c501fe-65c8-4580-b768-c8a289899fd1"],["Q16744353","d62a1368-06ff-4314-b6f3-79f18ff5638a"],["Q47529773","d695615d-4c44-4cba-a169-2dcd6065a4be"],["Q47529738","d7301d6a-f98b-487f-b1be-5f958988ca9f"],["Q47529648","d74ba7fa-bd6b-4cf4-9c87-227a1db42999"],["Q47529832","d7b5d84f-6f86-4b49-b415-bc919a6776d8"],["Q47530136","d8a5122b-2522-4634-a880-7be03629f627"],["Q1941212","d8ebb594-1281-4833-9e1c-ebfb6cf5b404"],["Q33077552","d93d31f8-8ca8-4092-acaa-80432ef64142"],["Q47890956","d97b90ee-d70d-4e72-983a-540b355ca9ce"],["Q47529667","d9bfe219-b347-4a6a-8483-50fefab94126"],["Q16744483","dad867e5-d383-48ad-ae91-3ada889bddc1"],["Q6849224","db8f62a9-969a-495f-abea-09f31a6e91b0"],["Q47529793","dbdc7c00-0b82-4c2b-b5bc-f26f431b8fa2"],["Q47529965","dc0f96d9-e067-414c-9bd9-939fe39b86a7"],["Q6787306","dd7e2ed5-0547-4d1c-b1eb-2ae4aa8c85df"],["Q47529839","de0f6aaa-cd27-4df8-bd84-1a133aad0f6b"],["Q6891175","de2b88c1-27ee-4347-81d5-d5a82deb5a33"],["Q5982514","de3f69c5-bc04-428d-812f-db5e478679b7"],["Q47529649","de865013-a472-4576-bec6-c00178d8db98"],["Q47529691","dea9df0a-68d2-4999-828e-fbcffa5b1e8f"],["Q16765740","e000830e-cf05-46ef-a8d1-ce45af483a85"],["Q47530015","e0116c8c-de37-4b98-a255-9f9dda75a051"],["Q47529956","e0331040-3fd0-4a22-a0c1-bb48ce010e86"],["Q47529941","e0c1a163-7adb-423e-9a45-6e10ec3aa452"],["Q47529887","e0d008d3-cb37-40dd-9023-896a6d043b63"],["Q47890722","e15b4675-2e1d-462c-b969-2b061f60b246"],["Q47529732","e1a18016-c588-455f-bbcf-57007faa1da9"],["Q47890821","e2092740-062d-4b3c-a8ca-a263844123a5"],["Q47529960","e22e87a5-6170-4b9b-8bcb-a54e7abcf274"],["Q47890578","e29ee895-eabd-4483-a68b-4d7f818f4f76"],["Q7023365","e345b7eb-1701-4293-a483-3eba89bf97cf"],["Q47890624","e3dcefdf-e755-4d11-85ce-26a85a171205"],["Q474285","e505b897-d998-4f85-849a-7878b8db58b8"],["Q47529644","e51878b1-d90f-4d51-b004-01a5ddebacbd"],["Q4901661","e612af21-a318-4c58-856b-55b0005de617"],["Q47529628","e6ab5237-f76a-41b3-b3d5-57ac8803ef6d"],["Q20981883","e6c732f4-22c6-483a-90f2-1c6f17662a89"],["Q47529911","e6ebdf9d-bc57-40dc-aeda-38b4c83a6290"],["Q47529733","e703f5ed-ff28-4ebf-88c0-5ea7f47536b5"],["Q16747387","e88ec79f-3581-4065-94f9-265b141e5e12"],["Q47529811","e94d026e-7e06-4794-b886-3da5afc956cc"],["Q22278431","e9e7f939-dc98-4681-a991-b3b85ddedb5e"],["Q28086070","ea396f90-43bd-4411-b3ed-87865c9be98f"],["Q47529917","ebfb9ff0-30ce-4584-954d-a39b10f3751f"],["Q47529966","ec94ba1b-0053-49d3-87d4-8a26d98049f6"],["Q47529875","ecb29e9d-5fe8-47bf-89e8-7ac6d9098fb5"],["Q47529913","ee2d1b87-9276-478f-bc30-9eda165f0884"],["Q47529937","ee355979-9eab-4e7e-8f8f-5734f095f9ed"],["Q47530017","ee9d76bd-e481-41a8-b243-666d238f2ef8"],["Q47529972","eed94d60-741e-4d58-ad8e-569d61b68a21"],["Q47529697","ef50e607-3ecc-48ac-a708-39cc022ba7e5"],["Q47529935","efd6ae4f-707a-45cf-91ad-f606377c7130"],["Q16765319","efe47fa6-73e0-4ea4-849e-b3d2b4afa6f4"],["Q47529805","f0085b1c-56f2-4957-aa83-8c260ccb479e"],["Q7152252","f0321ad6-70d2-402c-9789-2b33964eacf8"],["Q6525655","f0db9762-15bd-4d40-94de-9e77dd0d6d44"],["Q47530057","f0fc9a82-b5be-409d-8cfc-0bd74524b75d"],["Q5340080","f14e6c6e-64f3-454f-98d3-8066db1b3611"],["Q239062","f1d5837a-5552-4b82-88a7-8c1d015d4540"],["Q47890998","f20b54c0-6eae-46f6-8c3b-fcc3304a5a2b"],["Q47530003","f2bb9632-3caa-4992-af8d-2666499a0404"],["Q47529962","f3673350-3ef0-4888-808c-43eeaf87999e"],["Q47529716","f3747b80-5c7c-432b-a19b-106edb93bcaf"],["Q47529693","f390999e-d9d0-4775-97e5-d863bc5aed8a"],["Q47529789","f3a38e8f-ca6a-4521-8121-2436716c0b74"],["Q47529880","f3c53257-93e4-4635-8b68-f75751d438a7"],["Q47529617","f3c96e7f-c8f9-4cbb-b237-f55498970f03"],["Q8022831","f3d8aa7e-a29e-489e-baba-150dd59fe780"],["Q47529656","f43c8c51-ec69-42af-a44f-c12ded96b73d"],["Q3023722","f4b8e2a2-16e7-4e2f-b2c9-14fe24e35389"],["Q46996204","f703039d-6f46-4eb5-9f3e-c9e5163d0554"],["Q37993392","fa022f08-9e0e-445e-9777-c819a66c301c"],["Q6761978","fa323d3a-6f95-4caf-a303-1967daebe821"],["Q47529654","fae65ddd-e147-4935-be9e-b373d54659f1"],["Q11043304","fb351e3d-15e4-43c3-a291-c72b05290e49"],["Q47530041","fc00de9c-30ee-4646-9201-507ecf73b714"],["Q47529783","fc1428ac-abba-4042-a380-f3aa24940efe"],["Q47529816","fc300f8d-afe7-4920-b4d8-26e38ff87cd7"],["Q47530012","fcb2b394-045d-4b91-8fba-7cb8121227d1"],["Q302359","fce0f4ba-f0f3-461c-8ac9-b71dd94ee79b"],["Q47890979","fcef4bfc-df21-4fc4-8dd7-67630cceb189"],["Q47529888","fd4c7b9f-1446-45fe-b3ec-f0be3a54f850"],["Q16765235","fedb9209-fb27-46c7-9b3c-f9c754d1132c"],["Q47529857","feece052-36c3-4a72-8dfb-69882aa7a4d4"],["Q16929552","ff9e6767-f8ff-4585-ab41-f47a09e31f1b"],["Q47529728","4f69fd16-8e37-4f00-a359-11dba185727c"]];
    </script>
    <script>_.templateSettings = {
  evaluate: /\{\%(.+?)\%\}/g,
  interpolate: /\{\{(.+?)\}\}/g,
  escape: /\{-(.+?)-\}/g
}

var renderTemplate = function renderTemplate(templateName, data){
  data = data || {};
  var source = $('#' + templateName);
  if(source.length){
    return _.template(source.html())(data);
  } else {
    throw 'renderTemplate Error: Could not find source template with matching #' + templateName;
  }
}

var vote = function vote($choice){
  var $pairing = $choice.parents('.pairing');
  var incomingPersonID = $('.pairing__incoming .person', $pairing).attr('data-id');
  var vote = [];

  if($choice.is('.skip')) {
    // Insert a null value to indicate skip.
    // These are removed when serializing to CSV.
    window.votes.push( [incomingPersonID, null] );
  } else if ($choice.is('.show-later')) {
    nextPairing($pairing);
    $pairing.appendTo('.pairings');
    return;
  } else {
    window.votes.push( [incomingPersonID, $choice.attr('data-uuid')] );
  }

  redrawTop();
  nextPairing($pairing);
}

// This function looks through allVotes() to see if there are any IDs
// matched with multiple UUIDs, if typeOfID is 'ID', or vice versa if
// typeOfID is 'UUID'. It then returns an object mapping between each
// ID / UUID and the multiple UUIDs / IDs they've been matched with.
// For example:
//
//   > getDuplicateIDs('ID')
//   {
//     'Q7368324': [
//       "be9c1984-6f08-4a97-8ea6-e82af4daf909",
//       "0c9cf09f-a09c-47f9-a641-6d0dbb23110c"
//     ]
//   }
var getDuplicateIDs = function(typeOfID) {
  var voteColumn = {'ID': 0, 'UUID': 1}[typeOfID],
  votes = allVotes(),
  // Filter out any votes that were skipped, which is those where the
  // second element of the array representing the vote is null.
  votesNotSkipped = _.filter(votes, function (v) { return v[1] !== null });
  duplicated = _.omit(
    _.groupBy(votesNotSkipped, function(e) { return e[voteColumn] }),
    function(v, k, o) { return v.length <= 1 }
  );
  return _.object(
    _.map(duplicated, function(v, k) {
      return [k, _.map(v, function (e) { return e[1 - voteColumn] })]
    })
  );
}

// Render to HTML a warning about one type of duplicate IDs or UUIDs:
var renderDuplicatesTemplate = function(duplicatedIDs, typeOfID) {
  var result = '', n = Object.keys(duplicatedIDs).length;
  if (n) {
    result += renderTemplate('duplicateIDs', {
      duplicates: duplicatedIDs,
      groupedByType: typeOfID,
      otherType: typeOfID == 'ID' ? 'UUID' : 'ID'
    });
  }
  return result;
}

// This function returns HTML that warns about any IDs matched to
// multiple UUIDs or UUIDs matched to multiple IDs:
var renderAllDuplicatesTemplate = function() {
  var result = '';
  ['ID', 'UUID'].forEach(function (typeOfID) {
    result += renderDuplicatesTemplate(getDuplicateIDs(typeOfID), typeOfID);
  });
  if (result) {
    return '<div class="all-duplicates">' + result + '</div>';
  }
  return '';
}

var nextPairing = function nextPairing($currentPairing){
  $currentPairing.hide();
  var $nextPairing = $currentPairing.next();
  if($nextPairing.length){
    highlightExistingVotes($nextPairing);
    $nextPairing.show();
  } else {
    $('.messages').html('<h1>Reconciliation complete!</h1>');
    showCSVtray();
  }
}

var twitterAsLink = function twitter_as_link(str) {
  if (str.startsWith('http')) {
    return '<a href="' + str + '">' + str + '</a>';
  } else {
    return '<a href="https://twitter.com/' + str + '">' + str + '</a>';
  }
}


var highlightExistingVotes = function highlightExistingVotes($pairing){
  var allVotesSoFar = allVotes();

  $('.pairing__choices .person', $pairing).each(function(){
    $(this).children('.person__already-matched').remove();

    var uuid = $(this).attr('data-uuid');
    var personAlreadyMatched = _.findWhere(allVotesSoFar, {1: uuid});

    if(personAlreadyMatched){
      // This suggested person has already been matched to an incoming person!
      // Chances are, you won't want to match again. If you do, it'll be because
      // the original match was incorrect. So we make this clear in the UI.

      // Get the details for the person they were matched to.
      var priorMatchDetails;
      _.each(window.toReconcile, function(match){
        if(match.incoming.id == personAlreadyMatched[0]){
          priorMatchDetails = match.incoming;
        }
      });

      // Show a warning.
      var warningHTML = renderTemplate('personAlreadyMatched', {
        person: priorMatchDetails ? priorMatchDetails[window.existingField] : personAlreadyMatched[0]
      });
      $(this).prepend(warningHTML);
    }
  });
}

var redrawTop = function redrawTop(){
  updateProgressBar();
  updateUndoButton();
  updateCSVtray();
  $('.messages').text('');
}

var progressAsPercentage = function progressAsPercentage(){
  if (window.toReconcile.length == 0) { return '100%' }
  return '' + (window.votes.length / $('.pairing').length * 100) + '%';
}

var updateProgressBar = function updateProgressBar(){
  $('.progress .progress-bar div').animate({ width: progressAsPercentage() }, 100);
}

var allVotes = function allVotes() {
  return window.reconciled.concat(window.votes).concat(window.autovotes)
}

var votesAsCSV = function votesAsCSV(){
  return Papa.unparse({
    fields: ['id', 'uuid'],
    data: _.sortBy( _.reject(allVotes(), { 1: null }), 1 )
  });
}

var updateCSVtray = function updateCSVtray(){
  $('.csv').val(votesAsCSV());
}

var showCSVtray = function showCSVtray(){
  updateCSVtray();
  $('.export-csv').text('Hide CSV');
  $('.csv').slideDown(100, function(){
    $(this).select();
  });
  $('.messages').append(renderAllDuplicatesTemplate());
}

var hideCSVtray = function hideCSVtray(){
  $('.export-csv').text('Show CSV');
  $('.csv').slideUp(100);
  $('.messages').html('');
}

var toggleCSVtray = function toggleCSVtray(){
  if($('.csv').is(':visible')){
    hideCSVtray();
  } else {
    showCSVtray();
  }
}

var undo = function undo(){
  // Only continue if there's actually something to undo.
  if(window.votes.length == 0){ return; }

  // Remove last vote from window.votes,
  // and re-show the most recently hidden pairing.
  var undoneVote = window.votes.pop();
  if ($('.pairing:visible').length) {
    $('.pairing:visible').hide().prev().show();
  } else {
    $('.pairing').last().show();
    hideCSVtray();
  }
  redrawTop();
}

var updateUndoButton = function updateUndoButton(){
  if(window.votes.length == 0){
    $('.undo').addClass('disabled');
  } else {
    $('.undo').removeClass('disabled');
  }
}

var handleKeyPress = function handleKeyPress(e){
  // Escape
  if(e.keyCode == 27){ return toggleCSVtray(); }

  // Command-Z
  if(e.keyCode == 90 && (e.metaKey || e.ctrlKey)) { return undo(); }

  // Only if there is at least one pairing left to categorise
  if($('.pairing:visible').length && $('.csv').is(':hidden')){
    // right arrow
    if(e.which == 39){ return vote($('.pairing:visible .skip')); }

    // question mark
    if(e.which == 191){ return vote($('.pairing:visible .show-later')); }

    // number key
    if(e.which > 48 && e.which < 58){
      // Avoid votes for numbers that don't exist on the page
      var $choice = $('.pairing:visible .pairing__choices .person').eq(e.which - 49);
      if($choice.length){ vote($choice); }
    }
  }
}

jQuery(function($) {

  $.each(toReconcile, function(i, match) {
    var incomingPerson = match.incoming;

    // If there's one and only one 100% match, choose it automatically
    // var exactMatches  = _.filter(match.existing, function(e) { 
      // return e[1] == 1;
    // });
    // if (exactMatches.length == 1) { 
      // window.autovotes.push( [incomingPerson.id, exactMatches[0][0].uuid] );
      // return;
    // }
    
    var alwaysInclude = ['image', 'twitter', 'occupation', 'source'];

    var incomingPersonFields = _.filter(Object.keys(incomingPerson), function(field) {
      return incomingPerson[field];
    });
    var existingPeopleFields = _.uniq(_.flatten(match.existing.map(function(existing) {
      var person = existing[0];
      return Object.keys(person);
    })));
    var commonFields = _.union(alwaysInclude, _.intersection(incomingPersonFields, existingPeopleFields));

    var incomingPersonHTML = renderTemplate('incomingPerson', {
      person: incomingPerson,
      h1_name: incomingPerson[window.incomingField],
      fields: commonFields,
      names: _.uniq(_.map(_.filter(incomingPersonFields, function(f) { return f.includes('name__') }), function(f) { return incomingPerson[f] })).sort()
    });

    var existingPersonHTML = _.map(match.existing, function(existing) {
      var person = existing[0];
      person.matchStrength = Math.ceil(existing[1] * 100);
      var fields = _.union(alwaysInclude, _.intersection(incomingPersonFields, Object.keys(person)));

      var incomingNameWords = incomingPerson[window.incomingField].toLowerCase().replace(',', '').split(/\s+/);
      var markedName = _.map(person[window.existingField].replace(',', '').split(/\s+/), function(word){
        if (_.contains(incomingNameWords, word.toLowerCase())) {
          return '<span class="match">' + word + '</span>'
        } else {
          return word
        }
      }).join(" ");

      return renderTemplate('existingPerson', {
        person: person,
        h1_name: markedName,
        compare_with: incomingPerson,
        fields: fields
      });
    });

    $('.pairings').append(
      renderTemplate('pairing', {
        incomingPersonHTML: incomingPersonHTML,
        existingPersonHTML: existingPersonHTML.join("\n")
      })
    );

  });

  $(document).on('click', '.pairing__choices > div header.person__meta', function(){
    vote($(this).parent());
  });

  $(document).on('keydown', handleKeyPress);

  $('.undo').on('click', function(){
    undo();
  });

  $('.export-csv').on('click', function(e){
    e.stopPropagation();
    toggleCSVtray();
  });

  $('.csv').on('click', function(e){
    e.stopPropagation();
  }).on('focus', function(){
    $(this).select();
  });

  $firstPairing = $('.pairing').first();
  if ($firstPairing.length) {
    $firstPairing.nextAll().hide();
    highlightExistingVotes($firstPairing);
    redrawTop();
  } else {
    $('.messages').append('<h1>Nothing to reconcile!</h1>');
  }

});
</script>

</head>
<body>
    <textarea class="csv"></textarea>

    <div class="progress">
        <div class="row">
            <div class="column-8">
                <div class="progress-bar"><div></div></div>
            </div>
            <div class="column-2">
                <div class="undo">Undo</div>
            </div>
            <div class="column-2">
                <div class="export-csv">Show CSV</div>
            </div>
        </div>
    </div>

    <div class="messages"></div>

    <div class="pairings"></div>

    <script type="text/html" id="pairing">
        <div class="pairing">
            <div class="row">
                <div class="column-6 pairing__incoming">
                    <h2>Incoming person</h2>
                    {{ incomingPersonHTML }}
                </div>
                <div class="column-6 pairing__choices">
                    <h2>Potential matches from existing data</h2>
                    {{ existingPersonHTML }}
                    <div class="skip">
                      <header class="person__meta">None of these match</header>
                    </div>
                    <div class="show-later">
                      <header class="person__meta">Show me this card again later.</header>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="incomingPerson">
        <div class="person" data-id="{{ person.id }}">
        {% if(person.id.startsWith('Q')) { %}
          <div style="float:right">
            <a target="_blank" href="https://www.wikidata.org/wiki/{{ person.id }}">{{ person.id }}</a>
          </div>
        {% } %}

            <h1>{{ h1_name }}</h1>

            <dl>
              <dt title="Names">Names:</dt>
              {% names.forEach(function(name) { %}
                <dd>{{ name }}</dd>
              {% }) %}

              {% fields.forEach(function(field) { %}
                {% if(field !== 'id' && field !== 'name' && person[field]){ %}
                  <dt title="{{ field }}">{{ field }}:</dt>
                  <dd>
                  {% if (field == 'image') { %}
                    {% person[field].split(';').forEach(function(img) { %}
                      <img src="{{ img }}" width="150">
                    {% }) %}
                  {% } else if (field == 'twitter') { %}
                    {% person[field].split(';').forEach(function(twitter) { %}
                      {{ twitterAsLink(twitter) }}
                    {% }) %}
                  {% } else { %}
                    {{ person[field].split(';').join(', ') }}
                  {% } %}
                  </dd>
                {% } %}
              {% }) %}
            </dl>
        </div>
    </script>

    <script type="text/html" id="existingPerson">
        <div class="person" data-uuid="{{ person.uuid }}">
            <header class="person__meta">
              <h1>{{ h1_name }}
                <span class="person__match-strength">{{ person.matchStrength }}% match</span>
              </h1>
              <div class="progress-bar"><div style="width: {{ person.matchStrength }}%"></div></div>
            </header>

            <dl>

              {% fields.forEach(function(field) { %}
                {% if(field !== 'id' && field !== 'name' && person[field]){ %}
                  <dt title="{{ field }}">{{ field }}:</dt>
                  <dd>
                  {% if (field == 'image') { %}
                    {% person[field].split(';').forEach(function(img) { %}
                      <img src="{{ img }}" width="150">
                    {% }) %}
                  {% } else if (field == 'source') { %}
                      <a href="{{ person[field] }}">🔗</a>
                  {% } else if (field == 'twitter') { %}
                    {% person[field].split(';').forEach(function(twitter) { %}
                      {{ twitterAsLink(twitter) }}
                    {% }) %}
                  {% } else { %}
                    {% if (_.any(person[field].split(';'), function(f) { return f == compare_with[field]; })) { %}
                      <span class="match">{{ person[field].split(';').join(', ') }}</span>
                    {% } else { %}
                      <span class="nomatch">{{ person[field].split(';').join(', ') }}</span>
                    {% } %}
                  {% } %}
                  </dd>
                {% } %}
              {% }) %}
            </dl>
        </div>
    </script>

    <script type="text/html" id="personAlreadyMatched">
      <div class="person__already-matched">
        Already matched to incoming “<b>{{ person }}</b>”
      </div>
    </script>

    <script type="text/html" id="duplicateIDs">
      <div class="duplicates">
        <p><strong>Warning:</strong> The following {{ groupedByType }}s have
          multiple {{ otherType }}s:</p>
        <dl>
          {% for (k in duplicates) { %}
            {% if (duplicates.hasOwnProperty(k)) { %}
              <dt>{{ k }} has these {{ otherType }}s:</dt>
              <dd>
                <ul>
                 {% for (var i = 0; i < duplicates[k].length; ++i) { %}
                   <li>{{ duplicates[k][i] }}</li>
                 {% } %}
                </ul>
              </dd>
            {% } %}
          {% } %}
        </dl>
      </div>
    </script>

</body>
</html>
